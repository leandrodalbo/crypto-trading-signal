[
    {
      "name": "${servicename}",
      "image": "${image}",
      "essential": true,
      "environment": [
        { "name": "SPRING_DATASOURCE_USERNAME", "value": "${dbuser}"},
        { "name": "SPRING_DATASOURCE_PASSWORD", "value": "${dbpwd}"},
        { "name": "SPRING_DATASOURCE_URL",  "value": "jdbc:postgresql://${dbhost}:5432/${dbname}"},
        { "name": "SPRING_FLYWAY_USER", "value": "${dbuser}"},
        { "name": "SPRING_FLYWAY_PASSWORD", "value": "${dbpwd}"},
        { "name": "SPRING_FLYWAY_URL",  "value": "jdbc:postgresql://${dbhost}:5432/${dbname}"}
      ],
      "portMappings": [{
        "containerPort": ${port},
        "hostPort": ${port}
      }],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "${servicename}-logs",
          "awslogs-region": "${region}",
          "awslogs-stream-prefix": "${servicename}-logstream"
        }
      }
    }
  ]